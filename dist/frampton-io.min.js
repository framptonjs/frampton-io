!function(){var t,e;!function(){if("undefined"==typeof Frampton)throw new Error("Frampton is undefined");t=Frampton.__loader.define,e=Frampton.__loader.require}(),t("frampton-io",["frampton/namespace","frampton-io/response","frampton-io/http/request","frampton-io/http/send","frampton-io/http/get","frampton-io/http/post","frampton-io/http/post_json","frampton-io/http/post_string","frampton-io/http/upload","frampton-io/http/utils/url","frampton-io/http/utils/query_pair","frampton-io/http/utils/query_escape","frampton-io/http/utils/query_string","frampton-io/http/utils/uri_encode","frampton-io/http/utils/uri_decode","frampton-io/file/read","frampton-io/file/data_url","frampton-io/file/binary_string","frampton-io/file/array_buffer","frampton-io/file/text"],function(t,e,r,o,n,u,a,s,i,f,l,d,p,c,m,_,h,v,y,g){"use strict";function O(t){return t&&t.__esModule?t:{"default":t}}var M=O(t),j=O(e),I=O(r),b=O(o),x=O(n),E=O(u),P=O(a),q=O(s),T=O(i),R=O(f),A=O(l),H=O(d),L=O(p),F=O(c),U=O(m),w=O(_),S=O(h),D=O(v),B=O(y),N=O(g);M["default"].IO={},M["default"].IO.VERSION="0.1.2",M["default"].IO.Response=j["default"],M["default"].IO.Http={},M["default"].IO.Http.Request=I["default"],M["default"].IO.Http.send=b["default"],M["default"].IO.Http.get=x["default"],M["default"].IO.Http.post=E["default"],M["default"].IO.Http.postJson=P["default"],M["default"].IO.Http.postString=q["default"],M["default"].IO.Http.upload=T["default"],M["default"].IO.Http.Utils={},M["default"].IO.Http.Utils.url=R["default"],M["default"].IO.Http.Utils.queryPair=A["default"],M["default"].IO.Http.Utils.queryEscape=H["default"],M["default"].IO.Http.Utils.queryString=L["default"],M["default"].IO.Http.Utils.uriEncode=F["default"],M["default"].IO.Http.Utils.uriDecode=U["default"],M["default"].IO.File={},M["default"].IO.File.read=w["default"],M["default"].IO.File.dataUrl=S["default"],M["default"].IO.File.binaryString=D["default"],M["default"].IO.File.arrayBuffer=B["default"],M["default"].IO.File.text=N["default"]}),t("frampton-io/file/array_buffer",["exports","frampton-io/file/read"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return(0,n["default"])("ARRAY_BUFFER",t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var n=r(e)}),t("frampton-io/file/binary_string",["exports","frampton-io/file/read"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return(0,n["default"])("BINARY_STRING",t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var n=r(e)}),t("frampton-io/file/data_url",["exports","frampton-io/file/read"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return(0,n["default"])("DATA_URL",t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var n=r(e)}),t("frampton-io/file/read",["exports","frampton-data/task/create","frampton-io/response","frampton-io/file/read_api"],function(t,e,r,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function u(t,e){return(0,a["default"])(function(r){var o=(0,i["default"])();switch(r.start&&o.addEventListener("loadstart",function(t){r.start((0,s["default"])("start",0,null))}),r.progress&&o.addEventListener("progress",function(t){r.progress((0,s["default"])("progress",t.loaded/t.total,null))}),o.addEventListener("load",function(t){r.resolve((0,s["default"])("success",1,t.target.result))}),o.addEventListener("error",function(t){r.reject((0,s["default"])("error",0,t.message))}),o.addEventListener("abort",function(t){r.reject((0,s["default"])("error",0,"abort"))}),t){case"DATA_URL":o.readAsDataURL(e);break;case"ARRAY_BUFFER":o.readAsArrayBuffer(e);break;case"TEXT":o.readAsText(e);break;case"BINARY_STRING":o.readAsBinaryString(e)}})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=n(e),s=n(r),i=n(o)}),t("frampton-io/file/read_api",["exports","frampton/namespace","frampton-utils/apply"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(){this.listeners={},this.readTime=3e3*Math.random()+300,this.progress=0}function u(){return a["default"].isTest()?new n:new FileReader}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=o(e),s=o(r);n.prototype.timeout=1e4,n.prototype.read=function(){var t=this;this.progressInterval=setInterval(function(){t.listeners.progress&&t.listeners.progress.forEach(function(e){t.progress+=15,e({loaded:t.progress/t.readTime*500,total:500})})},20),setTimeout(function(){t.progressInterval&&(clearInterval(t.progressInterval),t.progressInterval=null),t.listeners.load&&t.listeners.load.forEach(function(t){t({target:{result:"test"}})})},this.readTime),this.listeners.start&&this.listeners.start.forEach(s["default"])},n.prototype.addEventListener=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].indexOf(e)===-1&&this.listeners[t].push(e)},n.prototype.readAsDataURL=function(t){this.read(t)},n.prototype.readAsArrayBuffer=function(t){this.read(t)},n.prototype.readAsText=function(t){this.read(t)},n.prototype.readAsBinaryString=function(t){this.read(t)}}),t("frampton-io/file/text",["exports","frampton-io/file/read"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return(0,n["default"])("TEXT",t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var n=r(e)}),t("frampton-io/http/delete",["exports","frampton-io/http/request","frampton-io/http/send","frampton-io/http/utils/default_settings"],function(t,e,r,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function u(t,e){return(0,s["default"])(i["default"],(0,a["default"])(t,"DELETE",e||null))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=n(e),s=n(r),i=n(o)}),t("frampton-io/http/get",["exports","frampton-io/http/request","frampton-io/http/utils/url","frampton-io/http/send","frampton-io/http/utils/default_settings"],function(t,e,r,o,n){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){return(0,f["default"])(l["default"],(0,s["default"])((0,i["default"])(t,e)))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var s=u(e),i=u(r),f=u(o),l=u(n)}),t("frampton-io/http/patch",["exports","frampton-io/http/request","frampton-io/http/send","frampton-io/http/utils/default_settings"],function(t,e,r,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function u(t,e){return(0,s["default"])(i["default"],(0,a["default"])(t,"PATCH",e||null))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=n(e),s=n(r),i=n(o)}),t("frampton-io/http/post",["exports","frampton-io/http/request","frampton-io/http/send","frampton-io/http/utils/default_settings"],function(t,e,r,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function u(t,e,r){return(0,s["default"])(i["default"],(0,a["default"])(t,"POST",e||null,r||null))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=n(e),s=n(r),i=n(o)}),t("frampton-io/http/post_json",["exports","frampton-utils/curry","frampton-utils/is_object","frampton-io/http/post"],function(t,e,r,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(e),a=n(r),s=n(o);t["default"]=(0,u["default"])(function(t,e){return(0,a["default"])(e)&&(e=JSON.stringify(e)),(0,s["default"])(t,e||null,{"Content-Type":"application/json"})})}),t("frampton-io/http/post_string",["exports","frampton-utils/curry","frampton-utils/is_object","frampton-io/http/post","frampton-io/http/utils/query_string"],function(t,e,r,o,n){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=u(e),s=u(r),i=u(o),f=u(n);t["default"]=(0,a["default"])(function(t,e){return(0,s["default"])(e)&&(e=(0,f["default"])(e)),(0,i["default"])(t,e||null,{"Content-Type":"application/x-www-form-urlencoded"})})}),t("frampton-io/http/put",["exports","frampton-io/http/request","frampton-io/http/send","frampton-io/http/utils/default_settings"],function(t,e,r,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function u(t,e){return(0,s["default"])(i["default"],(0,a["default"])(t,"PUT",e||null))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=n(e),s=n(r),i=n(o)}),t("frampton-io/http/request",["exports"],function(t){"use strict";function e(t,e,r,o){return{url:t,timestamp:Date.now(),method:e||"GET",body:r||null,headers:o||{}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=e}),t("frampton-io/http/send",["exports","frampton-utils/error","frampton-data/task/create","frampton-io/http/utils/ajax_api","frampton-io/response"],function(t,e,r,o,n){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){var r=(0,f["default"])();return(0,i["default"])(function(o){r.open(e.method,e.url,!0),o.start&&r.addEventListener("loadstart",function(t){o.start((0,l["default"])("start",0,null))}),o.progress&&r.addEventListener("progress",function(t){var e=(t.loaded||t.position)/(t.total||t.totalSize);e=e===1/0?100:e,o.progress((0,l["default"])("progress",e,null))}),r.addEventListener("error",function(t){(0,s["default"])("Processing "+e.method+" for: "+e.url),o.reject((0,l["default"])("error",0,t.message))}),r.addEventListener("timeout",function(t){(0,s["default"])("Timeout "+e.method+" for: "+e.url),o.reject((0,l["default"])("error",0,"timeout"))}),r.addEventListener("load",function(t){var r,n=t.target;try{r=JSON.parse(n.response)}catch(u){r=n.response}n.status>=200&&n.status<300?o.resolve((0,l["default"])("success",1,r)):((0,s["default"])("Non-200 response "+e.method+" for: "+e.url),o.reject((0,l["default"])("error",0,r)))});for(var n in e.headers)r.setRequestHeader(n,e.headers[n]);r.timeout=t.timeout,r.send(e.body)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var s=u(e),i=u(r),f=u(o),l=u(n)}),t("frampton-io/http/upload",["exports","frampton-utils/curry","frampton-io/http/post"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(e),u=o(r);t["default"]=(0,n["default"])(function(t,e){var r=new FormData;return r.append("file-0",e),(0,u["default"])(t,r)})}),t("frampton-io/http/upload_many",["exports","frampton-utils/curry","frampton-io/http/post"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(e),u=o(r);t["default"]=(0,n["default"])(function(t,e){for(var r=new FormData,o=0;o<e.length;o++)r.append("file-"+o,e[o]);return(0,u["default"])(t,r)})}),t("frampton-io/http/utils/ajax_api",["exports","frampton/namespace","frampton-utils/apply"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(){this.method="GET",this.url="",this.listeners={},this.headers={},this.requestTime=1e3*Math.random()+300,this.progress=0}function u(){return a["default"].isTest()?new n:new XMLHttpRequest}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u;var a=o(e),s=o(r);n.prototype.timeout=1e4,n.prototype.open=function(t,e){this.method=t,this.url=e},n.prototype.send=function(){var t=this;this.progressInterval=setInterval(function(){t.listeners.progress&&t.listeners.progress.forEach(function(e){t.progress+=15,e({loaded:t.progress/t.requestTime*500,total:500})})},20),setTimeout(function(){t.progressInterval&&(clearInterval(t.progressInterval),t.progressInterval=null),t.listeners.load&&t.listeners.load.forEach(function(e){e({target:{response:a["default"].mock(t.url)||"test",status:200},total:500,loaded:500})})},this.requestTime),this.listeners.start&&this.listeners.start.forEach(s["default"])},n.prototype.addEventListener=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].indexOf(e)===-1&&this.listeners[t].push(e)},n.prototype.setRequestHeader=function(t,e){this.headers[t]=e}}),t("frampton-io/http/utils/default_settings",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=Object.freeze({timeout:3e4})}),t("frampton-io/http/utils/query_escape",["exports","frampton-utils/memoize","frampton-io/http/utils/uri_encode","frampton-string/join","frampton-string/split"],function(t,e,r,o,n){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=u(e),s=u(r),i=u(o),f=u(n);t["default"]=(0,a["default"])(function(t){return(0,i["default"])("+",(0,f["default"])("%20",(0,s["default"])(t)))})}),t("frampton-io/http/utils/query_pair",["exports","frampton-io/http/utils/query_escape"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return(0,n["default"])(t[0])+"="+(0,n["default"])(t[1])}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var n=r(e)}),t("frampton-io/http/utils/query_string",["exports","frampton-utils/is_array","frampton-utils/is_object","frampton-utils/is_something","frampton-string/join","frampton-io/http/utils/query_escape"],function(t,e,r,o,n,u){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function s(t,e,r){if((0,f["default"])(e))for(var o=0;o<e.length;o++)s(t+"[]",e[o],r);else if((0,l["default"])(e))for(var n in e)s(t+"["+n+"]",e[n],r);else r(t,e)}function i(t){function e(t,e){(0,d["default"])(e)&&(r[r.length]=(0,c["default"])(t)+"="+(0,c["default"])(e))}var r=[];for(var o in t)s(o,t[o],e);return(0,p["default"])("&",r)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var f=a(e),l=a(r),d=a(o),p=a(n),c=a(u)}),t("frampton-io/http/utils/query_unescape",["exports","frampton-utils/memoize","frampton-io/http/utils/uri_decode","frampton-string/join","frampton-string/split"],function(t,e,r,o,n){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=u(e),s=u(r),i=u(o),f=u(n);t["default"]=(0,a["default"])(function(t){return(0,i["default"])(" ",(0,f["default"])("+",(0,s["default"])(t)))})}),t("frampton-io/http/utils/uri_decode",["exports","frampton-utils/memoize"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(e);t["default"]=(0,o["default"])(function(t){return decodeURIComponent(t)})}),t("frampton-io/http/utils/uri_encode",["exports","frampton-utils/memoize"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(e);t["default"]=(0,o["default"])(function(t){return encodeURIComponent(t)})}),t("frampton-io/http/utils/url",["exports","frampton-utils/curry","frampton-io/http/utils/query_string"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var n=o(e),u=o(r);t["default"]=(0,n["default"])(function(t,e){return e?t+"?"+(0,u["default"])(e):t})}),t("frampton-io/response",["exports"],function(t){"use strict";function e(t,e,r){return{status:t,timestamp:Date.now(),progress:e||0,complete:1===e,data:r||null}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=e}),e("frampton-io")}();