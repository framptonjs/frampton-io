!function(){var t,e;!function(){if("undefined"==typeof Frampton)throw new Error("Frampton is undefined");t=Frampton.__loader.define,e=Frampton.__loader.require}(),t("frampton-io",["exports","frampton/namespace","frampton-io/response","frampton-io/http/request","frampton-io/http/send","frampton-io/http/get","frampton-io/http/post","frampton-io/http/post_json","frampton-io/http/post_string","frampton-io/http/upload","frampton-io/http/utils/url","frampton-io/http/utils/query_pair","frampton-io/http/utils/query_escape","frampton-io/http/utils/query_string","frampton-io/http/utils/uri_encode","frampton-io/http/utils/uri_decode","frampton-io/file/read","frampton-io/file/data_url","frampton-io/file/binary_string","frampton-io/file/array_buffer","frampton-io/file/text"],function(t,e,r,o,n,u,a,s,i,f,l,p,d,c,m,h,_,g,v,x,y){"use strict";function I(t){return t&&t.__esModule?t:{"default":t}}var E=I(e),O=I(r),q=I(o),T=I(n),M=I(u),R=I(a),A=I(s),H=I(i),L=I(f),j=I(l),F=I(p),U=I(d),b=I(c),w=I(m),S=I(h),D=I(_),B=I(g),N=I(v),k=I(x),z=I(y);E["default"].IO={},E["default"].IO.VERSION="0.1.0",E["default"].IO.Response=O["default"],E["default"].IO.Http={},E["default"].IO.Http.Request=q["default"],E["default"].IO.Http.send=T["default"],E["default"].IO.Http.get=M["default"],E["default"].IO.Http.post=R["default"],E["default"].IO.Http.postJson=A["default"],E["default"].IO.Http.postString=H["default"],E["default"].IO.Http.upload=L["default"],E["default"].IO.Http.Utils={},E["default"].IO.Http.Utils.url=j["default"],E["default"].IO.Http.Utils.queryPair=F["default"],E["default"].IO.Http.Utils.queryEscape=U["default"],E["default"].IO.Http.Utils.queryString=b["default"],E["default"].IO.Http.Utils.uriEncode=w["default"],E["default"].IO.Http.Utils.uriDecode=S["default"],E["default"].IO.File={},E["default"].IO.File.read=D["default"],E["default"].IO.File.dataUrl=B["default"],E["default"].IO.File.binaryString=N["default"],E["default"].IO.File.arrayBuffer=k["default"],E["default"].IO.File.text=z["default"]}),t("frampton-io/file/array_buffer",["exports","module","frampton-io/file/read"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t){return u["default"]("ARRAY_BUFFER",t)}e.exports=n;var u=o(r)}),t("frampton-io/file/binary_string",["exports","module","frampton-io/file/read"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t){return u["default"]("BINARY_STRING",t)}e.exports=n;var u=o(r)}),t("frampton-io/file/data_url",["exports","module","frampton-io/file/read"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t){return u["default"]("DATA_URL",t)}e.exports=n;var u=o(r)}),t("frampton-io/file/read_api",["exports","module","frampton/namespace","frampton-utils/apply"],function(t,e,r,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function u(){this.listeners={},this.readTime=3e3*Math.random()+300,this.progress=0}function a(){return s["default"].isTest()?new u:new FileReader}e.exports=a;var s=n(r),i=n(o);u.prototype.timeout=1e4,u.prototype.read=function(){var t=this;this.progressInterval=setInterval(function(){t.listeners.progress&&t.listeners.progress.forEach(function(e){t.progress+=15,e({loaded:t.progress/t.readTime*500,total:500})})},20),setTimeout(function(){t.progressInterval&&(clearInterval(t.progressInterval),t.progressInterval=null),t.listeners.load&&t.listeners.load.forEach(function(t){t({target:{result:"test"}})})},this.readTime),this.listeners.start&&this.listeners.start.forEach(i["default"])},u.prototype.addEventListener=function(t,e){this.listeners[t]||(this.listeners[t]=[]),-1===this.listeners[t].indexOf(e)&&this.listeners[t].push(e)},u.prototype.readAsDataURL=function(t){this.read(t)},u.prototype.readAsArrayBuffer=function(t){this.read(t)},u.prototype.readAsText=function(t){this.read(t)},u.prototype.readAsBinaryString=function(t){this.read(t)}}),t("frampton-io/file/read",["exports","module","frampton-data/task/create","frampton-io/response","frampton-io/file/read_api"],function(t,e,r,o,n){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){return s["default"](function(r){var o=f["default"]();switch(r.start&&o.addEventListener("loadstart",function(t){r.start(i["default"]("start",0,null))}),r.progress&&o.addEventListener("progress",function(t){r.progress(i["default"]("progress",t.loaded/t.total,null))}),o.addEventListener("load",function(t){r.resolve(i["default"]("success",1,t.target.result))}),o.addEventListener("error",function(t){r.reject(i["default"]("error",0,t.message))}),o.addEventListener("abort",function(t){r.reject(i["default"]("error",0,"abort"))}),t){case"DATA_URL":o.readAsDataURL(e);break;case"ARRAY_BUFFER":o.readAsArrayBuffer(e);break;case"TEXT":o.readAsText(e);break;case"BINARY_STRING":o.readAsBinaryString(e)}})}e.exports=a;var s=u(r),i=u(o),f=u(n)}),t("frampton-io/file/text",["exports","module","frampton-io/file/read"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t){return u["default"]("TEXT",t)}e.exports=n;var u=o(r)}),t("frampton-io/http/ajax_api",["exports","module","frampton/namespace","frampton-utils/apply"],function(t,e,r,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function u(){this.method="GET",this.url="",this.listeners={},this.headers={},this.requestTime=1e3*Math.random()+300,this.progress=0}function a(){return s["default"].isTest()?new u:new XMLHttpRequest}e.exports=a;var s=n(r),i=n(o);u.prototype.timeout=1e4,u.prototype.open=function(t,e){this.method=t,this.url=e},u.prototype.send=function(){var t=this;this.progressInterval=setInterval(function(){t.listeners.progress&&t.listeners.progress.forEach(function(e){t.progress+=15,e({loaded:t.progress/t.requestTime*500,total:500})})},20),setTimeout(function(){t.progressInterval&&(clearInterval(t.progressInterval),t.progressInterval=null),t.listeners.load&&t.listeners.load.forEach(function(e){e({target:{response:s["default"].mock(t.url)||"test",status:200},total:500,loaded:500})})},this.requestTime),this.listeners.start&&this.listeners.start.forEach(i["default"])},u.prototype.addEventListener=function(t,e){this.listeners[t]||(this.listeners[t]=[]),-1===this.listeners[t].indexOf(e)&&this.listeners[t].push(e)},u.prototype.setRequestHeader=function(t,e){this.headers[t]=e}}),t("frampton-io/http/default_settings",["exports","module"],function(t,e){"use strict";e.exports=Object.freeze({timeout:3e4})}),t("frampton-io/http/delete",["exports","module","frampton-io/http/request","frampton-io/http/send","frampton-io/http/default_settings"],function(t,e,r,o,n){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){return i["default"](f["default"],s["default"](t,"DELETE",e||null))}e.exports=a;var s=u(r),i=u(o),f=u(n)}),t("frampton-io/http/get",["exports","module","frampton-io/http/request","frampton-io/http/utils/url","frampton-io/http/send","frampton-io/http/default_settings"],function(t,e,r,o,n,u){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){return l["default"](p["default"],i["default"](f["default"](t,e)))}e.exports=s;var i=a(r),f=a(o),l=a(n),p=a(u)}),t("frampton-io/http/patch",["exports","module","frampton-io/http/request","frampton-io/http/send","frampton-io/http/default_settings"],function(t,e,r,o,n){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){return i["default"](f["default"],s["default"](t,"PATCH",e||null))}e.exports=a;var s=u(r),i=u(o),f=u(n)}),t("frampton-io/http/post_json",["exports","module","frampton-utils/curry","frampton-utils/is_object","frampton-io/http/post"],function(t,e,r,o,n){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}var a=u(r),s=u(o),i=u(n);e.exports=a["default"](function(t,e){return s["default"](e)&&(e=JSON.stringify(e)),i["default"](t,e||null,{"Content-Type":"application/json"})})}),t("frampton-io/http/post_string",["exports","module","frampton-utils/curry","frampton-utils/is_object","frampton-io/http/post","frampton-io/http/utils/query_string"],function(t,e,r,o,n,u){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}var s=a(r),i=a(o),f=a(n),l=a(u);e.exports=s["default"](function(t,e){return i["default"](e)&&(e=l["default"](e)),f["default"](t,e||null,{"Content-Type":"application/x-www-form-urlencoded"})})}),t("frampton-io/http/post",["exports","module","frampton-io/http/request","frampton-io/http/send","frampton-io/http/default_settings"],function(t,e,r,o,n){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}function a(t,e,r){return i["default"](f["default"],s["default"](t,"POST",e||null,r||null))}e.exports=a;var s=u(r),i=u(o),f=u(n)}),t("frampton-io/http/put",["exports","module","frampton-io/http/request","frampton-io/http/send","frampton-io/http/default_settings"],function(t,e,r,o,n){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){return i["default"](f["default"],s["default"](t,"PUT",e||null))}e.exports=a;var s=u(r),i=u(o),f=u(n)}),t("frampton-io/http/request",["exports","module"],function(t,e){"use strict";function r(t,e,r,o){return{url:t,timestamp:Date.now(),method:e||"GET",body:r||null,headers:o||{}}}e.exports=r}),t("frampton-io/http/send",["exports","module","frampton-utils/error","frampton-data/task/create","frampton-io/http/ajax_api","frampton-io/response"],function(t,e,r,o,n,u){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){var r=l["default"]();return f["default"](function(o){r.open(e.method,e.url,!0),o.start&&r.addEventListener("loadstart",function(t){o.start(p["default"]("start",0,null))}),o.progress&&r.addEventListener("progress",function(t){var e=(t.loaded||t.position)/(t.total||t.totalSize);e=e===1/0?100:e,o.progress(p["default"]("progress",e,null))}),r.addEventListener("error",function(t){i["default"]("Processing "+e.method+" for: "+e.url),o.reject(p["default"]("error",0,t.message))}),r.addEventListener("timeout",function(t){i["default"]("Timeout "+e.method+" for: "+e.url),o.reject(p["default"]("error",0,"timeout"))}),r.addEventListener("load",function(t){var r,n=t.target;try{r=JSON.parse(n.response)}catch(u){r=n.response}n.status>=200&&n.status<300?o.resolve(p["default"]("success",1,r)):(i["default"]("Non-200 response "+e.method+" for: "+e.url),o.reject(p["default"]("error",0,r)))});for(var n in e.headers)r.setRequestHeader(n,e.headers[n]);r.timeout=t.timeout,r.send(e.body)})}e.exports=s;var i=a(r),f=a(o),l=a(n),p=a(u)}),t("frampton-io/http/upload_many",["exports","module","frampton-utils/curry","frampton-io/http/post"],function(t,e,r,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var u=n(r),a=n(o);e.exports=u["default"](function(t,e){for(var r=new FormData,o=0;o<e.length;o++)r.append("file-"+o,e[o]);return a["default"](t,r)})}),t("frampton-io/http/upload",["exports","module","frampton-utils/curry","frampton-io/http/post"],function(t,e,r,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var u=n(r),a=n(o);e.exports=u["default"](function(t,e){var r=new FormData;return r.append("file-0",e),a["default"](t,r)})}),t("frampton-io/http/utils/query_escape",["exports","module","frampton-utils/memoize","frampton-io/http/utils/uri_encode","frampton-string/join","frampton-string/split"],function(t,e,r,o,n,u){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}var s=a(r),i=a(o),f=a(n),l=a(u);e.exports=s["default"](function(t){return f["default"]("+",l["default"]("%20",i["default"](t)))})}),t("frampton-io/http/utils/query_pair",["exports","module","frampton-io/http/utils/query_escape"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t){return u["default"](t[0])+"="+u["default"](t[1])}e.exports=n;var u=o(r)}),t("frampton-io/http/utils/query_string",["exports","module","frampton-utils/is_array","frampton-utils/is_object","frampton-utils/is_something","frampton-string/join","frampton-io/http/utils/query_escape"],function(t,e,r,o,n,u,a){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,r){if(l["default"](e))for(var o=0;o<e.length;o++)i(t+"[]",e[o],r);else if(p["default"](e))for(var n in e)i(t+"["+n+"]",e[n],r);else r(t,e)}function f(t){function e(t,e){d["default"](e)&&(r[r.length]=m["default"](t)+"="+m["default"](e))}var r=[];for(var o in t)i(o,t[o],e);return c["default"]("&",r)}e.exports=f;var l=s(r),p=s(o),d=s(n),c=s(u),m=s(a)}),t("frampton-io/http/utils/query_unescape",["exports","module","frampton-utils/memoize","frampton-io/http/utils/uri_decode","frampton-string/join","frampton-string/split"],function(t,e,r,o,n,u){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}var s=a(r),i=a(o),f=a(n),l=a(u);e.exports=s["default"](function(t){return f["default"](" ",l["default"]("+",i["default"](t)))})}),t("frampton-io/http/utils/uri_decode",["exports","module","frampton-utils/memoize"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var n=o(r);e.exports=n["default"](function(t){return decodeURIComponent(t)})}),t("frampton-io/http/utils/uri_encode",["exports","module","frampton-utils/memoize"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var n=o(r);e.exports=n["default"](function(t){return encodeURIComponent(t)})}),t("frampton-io/http/utils/url",["exports","module","frampton-utils/curry","frampton-io/http/utils/query_string"],function(t,e,r,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var u=n(r),a=n(o);e.exports=u["default"](function(t,e){return e?t+"?"+a["default"](e):t})}),t("frampton-io/response",["exports","module"],function(t,e){"use strict";function r(t,e,r){return{status:t,timestamp:Date.now(),progress:e||0,complete:1===e,data:r||null}}e.exports=r}),e("frampton-io")}();