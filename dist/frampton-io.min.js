!function(){var t,e;!function(){if("undefined"==typeof Frampton)throw new Error("Frampton is undefined");t=Frampton.__loader.define,e=Frampton.__loader.require}(),t("frampton-io",["frampton/namespace","frampton-io/response","frampton-io/http/request","frampton-io/http/send","frampton-io/http/delete","frampton-io/http/put","frampton-io/http/patch","frampton-io/http/get","frampton-io/http/post","frampton-io/http/post_json","frampton-io/http/post_string","frampton-io/http/upload","frampton-io/http/utils/url","frampton-io/http/utils/query_pair","frampton-io/http/utils/query_escape","frampton-io/http/utils/query_string","frampton-io/http/utils/uri_encode","frampton-io/http/utils/uri_decode","frampton-io/file/read","frampton-io/file/data_url","frampton-io/file/binary_string","frampton-io/file/array_buffer","frampton-io/file/text"],function(t,e,r,o,u,n,a,s,i,f,l,d,p,c,m,_,h,v,y,g,O,M,I){"use strict";function j(t){return t&&t.__esModule?t:{"default":t}}var b=j(t),x=j(e),E=j(r),P=j(o),q=j(u),T=j(n),R=j(a),H=j(s),A=j(i),L=j(f),F=j(l),U=j(d),w=j(p),S=j(c),D=j(m),B=j(_),N=j(h),k=j(v),z=j(y),C=j(g),G=j(O),Y=j(M),J=j(I);b["default"].IO={},b["default"].IO.VERSION="0.1.3",b["default"].IO.Response=x["default"],b["default"].IO.Http={},b["default"].IO.Http.Request=E["default"],b["default"].IO.Http.send=P["default"],b["default"].IO.Http.get=H["default"],b["default"].IO.Http.post=A["default"],b["default"].IO.Http.postJson=L["default"],b["default"].IO.Http.postString=F["default"],b["default"].IO.Http["delete"]=q["default"],b["default"].IO.Http.patch=R["default"],b["default"].IO.Http.put=T["default"],b["default"].IO.Http.upload=U["default"],b["default"].IO.Http.Utils={},b["default"].IO.Http.Utils.url=w["default"],b["default"].IO.Http.Utils.queryPair=S["default"],b["default"].IO.Http.Utils.queryEscape=D["default"],b["default"].IO.Http.Utils.queryString=B["default"],b["default"].IO.Http.Utils.uriEncode=N["default"],b["default"].IO.Http.Utils.uriDecode=k["default"],b["default"].IO.File={},b["default"].IO.File.read=z["default"],b["default"].IO.File.dataUrl=C["default"],b["default"].IO.File.binaryString=G["default"],b["default"].IO.File.arrayBuffer=Y["default"],b["default"].IO.File.text=J["default"]}),t("frampton-io/file/array_buffer",["exports","frampton-io/file/read"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return(0,u["default"])("ARRAY_BUFFER",t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(e)}),t("frampton-io/file/binary_string",["exports","frampton-io/file/read"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return(0,u["default"])("BINARY_STRING",t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(e)}),t("frampton-io/file/data_url",["exports","frampton-io/file/read"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return(0,u["default"])("DATA_URL",t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(e)}),t("frampton-io/file/read",["exports","frampton-data/task/create","frampton-io/response","frampton-io/file/read_api"],function(t,e,r,o){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){return(0,a["default"])(function(r){var o=(0,i["default"])();switch(r.start&&o.addEventListener("loadstart",function(t){r.start((0,s["default"])("start",0,null))}),r.progress&&o.addEventListener("progress",function(t){r.progress((0,s["default"])("progress",t.loaded/t.total,null))}),o.addEventListener("load",function(t){r.resolve((0,s["default"])("success",1,t.target.result))}),o.addEventListener("error",function(t){r.reject((0,s["default"])("error",0,t.message))}),o.addEventListener("abort",function(t){r.reject((0,s["default"])("error",0,"abort"))}),t){case"DATA_URL":o.readAsDataURL(e);break;case"ARRAY_BUFFER":o.readAsArrayBuffer(e);break;case"TEXT":o.readAsText(e);break;case"BINARY_STRING":o.readAsBinaryString(e)}})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var a=u(e),s=u(r),i=u(o)}),t("frampton-io/file/read_api",["exports","frampton/namespace","frampton-utils/apply"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function u(){this.listeners={},this.readTime=3e3*Math.random()+300,this.progress=0}function n(){return a["default"].isTest()?new u:new FileReader}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var a=o(e),s=o(r);u.prototype.timeout=1e4,u.prototype.read=function(){var t=this;this.progressInterval=setInterval(function(){t.listeners.progress&&t.listeners.progress.forEach(function(e){t.progress+=15,e({loaded:t.progress/t.readTime*500,total:500})})},20),setTimeout(function(){t.progressInterval&&(clearInterval(t.progressInterval),t.progressInterval=null),t.listeners.load&&t.listeners.load.forEach(function(t){t({target:{result:"test"}})})},this.readTime),this.listeners.start&&this.listeners.start.forEach(s["default"])},u.prototype.addEventListener=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].indexOf(e)===-1&&this.listeners[t].push(e)},u.prototype.readAsDataURL=function(t){this.read(t)},u.prototype.readAsArrayBuffer=function(t){this.read(t)},u.prototype.readAsText=function(t){this.read(t)},u.prototype.readAsBinaryString=function(t){this.read(t)}}),t("frampton-io/file/text",["exports","frampton-io/file/read"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return(0,u["default"])("TEXT",t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(e)}),t("frampton-io/http/delete",["exports","frampton-io/http/request","frampton-io/http/send","frampton-io/http/utils/default_settings"],function(t,e,r,o){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){return(0,s["default"])(i["default"],(0,a["default"])(t,"DELETE",e||null))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var a=u(e),s=u(r),i=u(o)}),t("frampton-io/http/get",["exports","frampton-io/http/request","frampton-io/http/utils/url","frampton-io/http/send","frampton-io/http/utils/default_settings"],function(t,e,r,o,u){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){return(0,f["default"])(l["default"],(0,s["default"])((0,i["default"])(t,e)))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var s=n(e),i=n(r),f=n(o),l=n(u)}),t("frampton-io/http/patch",["exports","frampton-io/http/request","frampton-io/http/send","frampton-io/http/utils/default_settings"],function(t,e,r,o){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){return(0,s["default"])(i["default"],(0,a["default"])(t,"PATCH",e||null))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var a=u(e),s=u(r),i=u(o)}),t("frampton-io/http/post",["exports","frampton-io/http/request","frampton-io/http/send","frampton-io/http/utils/default_settings"],function(t,e,r,o){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}function n(t,e,r){return(0,s["default"])(i["default"],(0,a["default"])(t,"POST",e||null,r||null))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var a=u(e),s=u(r),i=u(o)}),t("frampton-io/http/post_json",["exports","frampton-utils/curry","frampton-utils/is_object","frampton-io/http/post"],function(t,e,r,o){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var n=u(e),a=u(r),s=u(o);t["default"]=(0,n["default"])(function(t,e){return(0,a["default"])(e)&&(e=JSON.stringify(e)),(0,s["default"])(t,e||null,{"Content-Type":"application/json"})})}),t("frampton-io/http/post_string",["exports","frampton-utils/curry","frampton-utils/is_object","frampton-io/http/post","frampton-io/http/utils/query_string"],function(t,e,r,o,u){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(e),s=n(r),i=n(o),f=n(u);t["default"]=(0,a["default"])(function(t,e){return(0,s["default"])(e)&&(e=(0,f["default"])(e)),(0,i["default"])(t,e||null,{"Content-Type":"application/x-www-form-urlencoded"})})}),t("frampton-io/http/put",["exports","frampton-io/http/request","frampton-io/http/send","frampton-io/http/utils/default_settings"],function(t,e,r,o){"use strict";function u(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){return(0,s["default"])(i["default"],(0,a["default"])(t,"PUT",e||null))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var a=u(e),s=u(r),i=u(o)}),t("frampton-io/http/request",["exports"],function(t){"use strict";function e(t,e,r,o){return{url:t,timestamp:Date.now(),method:e||"GET",body:r||null,headers:o||{}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=e}),t("frampton-io/http/send",["exports","frampton-utils/error","frampton-data/task/create","frampton-io/http/utils/ajax_api","frampton-io/response"],function(t,e,r,o,u){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){var r=(0,f["default"])();return(0,i["default"])(function(o){r.open(e.method,e.url,!0),o.start&&r.addEventListener("loadstart",function(t){o.start((0,l["default"])("start",0,null))}),o.progress&&r.addEventListener("progress",function(t){var e=(t.loaded||t.position)/(t.total||t.totalSize);e=e===1/0?100:e,o.progress((0,l["default"])("progress",e,null))}),r.addEventListener("error",function(t){(0,s["default"])("Processing "+e.method+" for: "+e.url),o.reject((0,l["default"])("error",0,t.message))}),r.addEventListener("timeout",function(t){(0,s["default"])("Timeout "+e.method+" for: "+e.url),o.reject((0,l["default"])("error",0,"timeout"))}),r.addEventListener("load",function(t){var r,u=t.target;try{r=JSON.parse(u.response)}catch(n){r=u.response}u.status>=200&&u.status<300?o.resolve((0,l["default"])("success",1,r)):((0,s["default"])("Non-200 response "+e.method+" for: "+e.url),o.reject((0,l["default"])("error",0,r)))});for(var u in e.headers)r.setRequestHeader(u,e.headers[u]);r.timeout=t.timeout,r.send(e.body)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var s=n(e),i=n(r),f=n(o),l=n(u)}),t("frampton-io/http/upload",["exports","frampton-utils/curry","frampton-io/http/post"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var u=o(e),n=o(r);t["default"]=(0,u["default"])(function(t,e){var r=new FormData;return r.append("file-0",e),(0,n["default"])(t,r)})}),t("frampton-io/http/upload_many",["exports","frampton-utils/curry","frampton-io/http/post"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var u=o(e),n=o(r);t["default"]=(0,u["default"])(function(t,e){for(var r=new FormData,o=0;o<e.length;o++)r.append("file-"+o,e[o]);return(0,n["default"])(t,r)})}),t("frampton-io/http/utils/ajax_api",["exports","frampton/namespace","frampton-utils/apply"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function u(){this.method="GET",this.url="",this.listeners={},this.headers={},this.requestTime=1e3*Math.random()+300,this.progress=0}function n(){return a["default"].isTest()?new u:new XMLHttpRequest}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var a=o(e),s=o(r);u.prototype.timeout=1e4,u.prototype.open=function(t,e){this.method=t,this.url=e},u.prototype.send=function(){var t=this;this.progressInterval=setInterval(function(){t.listeners.progress&&t.listeners.progress.forEach(function(e){t.progress+=15,e({loaded:t.progress/t.requestTime*500,total:500})})},20),setTimeout(function(){var e=t.method+":"+t.url,r=a["default"].mock(e),o=a["default"].mock(t.url),u=r||o||"test";t.progressInterval&&(clearInterval(t.progressInterval),t.progressInterval=null),t.listeners.load&&t.listeners.load.forEach(function(t){t({target:{response:u,status:200},total:500,loaded:500})})},this.requestTime),this.listeners.start&&this.listeners.start.forEach(s["default"])},u.prototype.addEventListener=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].indexOf(e)===-1&&this.listeners[t].push(e)},u.prototype.setRequestHeader=function(t,e){this.headers[t]=e}}),t("frampton-io/http/utils/default_settings",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=Object.freeze({timeout:3e4})}),t("frampton-io/http/utils/query_escape",["exports","frampton-utils/memoize","frampton-io/http/utils/uri_encode","frampton-string/join","frampton-string/split"],function(t,e,r,o,u){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(e),s=n(r),i=n(o),f=n(u);t["default"]=(0,a["default"])(function(t){return(0,i["default"])("+",(0,f["default"])("%20",(0,s["default"])(t)))})}),t("frampton-io/http/utils/query_pair",["exports","frampton-io/http/utils/query_escape"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){return(0,u["default"])(t[0])+"="+(0,u["default"])(t[1])}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=r(e)}),t("frampton-io/http/utils/query_string",["exports","frampton-utils/is_array","frampton-utils/is_object","frampton-utils/is_something","frampton-string/join","frampton-io/http/utils/query_escape"],function(t,e,r,o,u,n){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function s(t,e,r){if((0,f["default"])(e))for(var o=0;o<e.length;o++)s(t+"[]",e[o],r);else if((0,l["default"])(e))for(var u in e)s(t+"["+u+"]",e[u],r);else r(t,e)}function i(t){function e(t,e){(0,d["default"])(e)&&(r[r.length]=(0,c["default"])(t)+"="+(0,c["default"])(e))}var r=[];for(var o in t)s(o,t[o],e);return(0,p["default"])("&",r)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var f=a(e),l=a(r),d=a(o),p=a(u),c=a(n)}),t("frampton-io/http/utils/query_unescape",["exports","frampton-utils/memoize","frampton-io/http/utils/uri_decode","frampton-string/join","frampton-string/split"],function(t,e,r,o,u){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(e),s=n(r),i=n(o),f=n(u);t["default"]=(0,a["default"])(function(t){return(0,i["default"])(" ",(0,f["default"])("+",(0,s["default"])(t)))})}),t("frampton-io/http/utils/uri_decode",["exports","frampton-utils/memoize"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(e);t["default"]=(0,o["default"])(function(t){return decodeURIComponent(t)})}),t("frampton-io/http/utils/uri_encode",["exports","frampton-utils/memoize"],function(t,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(e);t["default"]=(0,o["default"])(function(t){return encodeURIComponent(t)})}),t("frampton-io/http/utils/url",["exports","frampton-utils/curry","frampton-io/http/utils/query_string"],function(t,e,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(t,"__esModule",{value:!0});var u=o(e),n=o(r);t["default"]=(0,u["default"])(function(t,e){return e?t+"?"+(0,n["default"])(e):t})}),t("frampton-io/response",["exports"],function(t){"use strict";function e(t,e,r){return{status:t,timestamp:Date.now(),progress:e||0,complete:1===e,data:r||null}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=e}),e("frampton-io")}();